<form id="message-send" class="form-inline" method="post" action="?module=message_wall/save&ajax=true">
    <input type="text" class="form-group smile-replaceable form-input" name="message" placeholder="{{ placeholder }}"
           style="width: 65%">
    <button id="message-submit" type="submit"
            class="btn btn-new form-group">{{ language.get(id ~ '_submit') }}
    </button>
    <img id="loading" src="/src/view/image/ajax-loader.gif" height="34" style="display: none;">
    <input type="hidden" name="user-token" value="{{ userToken }}">
    <input type="hidden" name="token" value="{{ token }}">
</form>
<script>
    var f1tippSmileys = {
        'o/': 'ðŸ‘‹',
        '</3': 'ðŸ’”',
        '<3': 'ðŸ’—',
        '8-D': 'ðŸ˜',
        '8D': 'ðŸ˜',
        ':-D': 'ðŸ˜',
        '=-3': 'ðŸ˜',
        '=-D': 'ðŸ˜',
        '=3': 'ðŸ˜',
        '=D': 'ðŸ˜',
        'B^D': 'ðŸ˜',
        'X-D': 'ðŸ˜',
        'XD': 'ðŸ˜',
        'x-D': 'ðŸ˜',
        'xD': 'ðŸ˜',
        ':\')': 'ðŸ˜‚',
        ':\'-)': 'ðŸ˜‚',
        ':-))': 'ðŸ˜ƒ',
        '8)': 'ðŸ˜„',
        ':)': 'ðŸ˜„',
        ':-)': 'ðŸ˜„',
        ':3': 'ðŸ˜„',
        ':D': 'ðŸ˜„',
        ':]': 'ðŸ˜„',
        ':^)': 'ðŸ˜„',
        ':c)': 'ðŸ˜„',
        ':o)': 'ðŸ˜„',
        ':}': 'ðŸ˜„',
        ':ã£)': 'ðŸ˜„',
        '=)': 'ðŸ˜„',
        '=]': 'ðŸ˜„',
        '0:)': 'ðŸ˜‡',
        '0:-)': 'ðŸ˜‡',
        '0:-3': 'ðŸ˜‡',
        '0:3': 'ðŸ˜‡',
        '0;^)': 'ðŸ˜‡',
        'O:-)': 'ðŸ˜‡',
        '3:)': 'ðŸ˜ˆ',
        '3:-)': 'ðŸ˜ˆ',
        '}:)': 'ðŸ˜ˆ',
        '}:-)': 'ðŸ˜ˆ',
        '*)': 'ðŸ˜‰',
        '*-)': 'ðŸ˜‰',
        ':-,': 'ðŸ˜‰',
        ';)': 'ðŸ˜‰',
        ';-)': 'ðŸ˜‰',
        ';-]': 'ðŸ˜‰',
        ';D': 'ðŸ˜‰',
        ';]': 'ðŸ˜‰',
        ';^)': 'ðŸ˜‰',
        ':-|': 'ðŸ˜',
        ':|': 'ðŸ˜',
        ':(': 'ðŸ˜’',
        ':-(': 'ðŸ˜’',
        ':-<': 'ðŸ˜’',
        ':-[': 'ðŸ˜’',
        ':-c': 'ðŸ˜’',
        ':<': 'ðŸ˜’',
        ':[': 'ðŸ˜’',
        ':c': 'ðŸ˜’',
        ':ã£C': 'ðŸ˜’',
        '%)': 'ðŸ˜–',
        '%-)': 'ðŸ˜–',
        ':-P': 'ðŸ˜œ',
        ':-b': 'ðŸ˜œ',
        ':-p': 'ðŸ˜œ',
        ':-Ãž': 'ðŸ˜œ',
        ':-Ã¾': 'ðŸ˜œ',
        ':P': 'ðŸ˜œ',
        ':b': 'ðŸ˜œ',
        ':p': 'ðŸ˜œ',
        ':Ãž': 'ðŸ˜œ',
        ':Ã¾': 'ðŸ˜œ',
        ';(': 'ðŸ˜œ',
        '=p': 'ðŸ˜œ',
        'X-P': 'ðŸ˜œ',
        'XP': 'ðŸ˜œ',
        'd:': 'ðŸ˜œ',
        'x-p': 'ðŸ˜œ',
        'xp': 'ðŸ˜œ',
        ':-||': 'ðŸ˜ ',
        ':@': 'ðŸ˜ ',
        ':-.': 'ðŸ˜¡',
        ':-/': 'ðŸ˜¡',
        ':/': 'ðŸ˜¡',
        ':L': 'ðŸ˜¡',
        ':S': 'ðŸ˜¡',
        ':\\': 'ðŸ˜¡',
        '=/': 'ðŸ˜¡',
        '=L': 'ðŸ˜¡',
        '=\\': 'ðŸ˜¡',
        ':\'(': 'ðŸ˜¢',
        ':\'-(': 'ðŸ˜¢',
        '^5': 'ðŸ˜¤',
        '^<_<': 'ðŸ˜¤',
        'o/\\o': 'ðŸ˜¤',
        '|-O': 'ðŸ˜«',
        '|;-)': 'ðŸ˜«',
        ':###..': 'ðŸ˜°',
        ':-###..': 'ðŸ˜°',
        'D-\':': 'ðŸ˜±',
        'D8': 'ðŸ˜±',
        'D:': 'ðŸ˜±',
        'D:<': 'ðŸ˜±',
        'D;': 'ðŸ˜±',
        'D=': 'ðŸ˜±',
        'DX': 'ðŸ˜±',
        'v.v': 'ðŸ˜±',
        '8-0': 'ðŸ˜²',
        ':-O': 'ðŸ˜²',
        ':-o': 'ðŸ˜²',
        ':O': 'ðŸ˜²',
        ':o': 'ðŸ˜²',
        'O-O': 'ðŸ˜²',
        'O_O': 'ðŸ˜²',
        'O_o': 'ðŸ˜²',
        'o-o': 'ðŸ˜²',
        'o_O': 'ðŸ˜²',
        'o_o': 'ðŸ˜²',
        ':$': 'ðŸ˜³',
        '#-)': 'ðŸ˜µ',
        ':#': 'ðŸ˜¶',
        ':&': 'ðŸ˜¶',
        ':-#': 'ðŸ˜¶',
        ':-&': 'ðŸ˜¶',
        ':-X': 'ðŸ˜¶',
        ':X': 'ðŸ˜¶',
        ':-J': 'ðŸ˜¼',
        ':*': 'ðŸ˜½',
        ':^*': 'ðŸ˜½',
        'à² _à² ': 'ðŸ™…',
        '*\\0/*': 'ðŸ™†',
        '\\o/': 'ðŸ™†',
        ':>': 'ðŸ˜„',
        '>.<': 'ðŸ˜¡',
        '>:(': 'ðŸ˜ ',
        '>:)': 'ðŸ˜ˆ',
        '>:-)': 'ðŸ˜ˆ',
        '>:/': 'ðŸ˜¡',
        '>:O': 'ðŸ˜²',
        '>:P': 'ðŸ˜œ',
        '>:[': 'ðŸ˜’',
        '>:\\': 'ðŸ˜¡',
        '>;)': 'ðŸ˜ˆ',
        '>_>^': 'ðŸ˜¤'
    };
    $(document).ready(function () {
        $('#message-submit').click(function () {
            $('#loading').show();
            $('#message-submit').hide();
        });

        $('#message-send').ajaxForm(function () {
            $('#messages-list').load('?module=message_wall/messages&ajax=true');
            $('#messages-send-form-div').load('?module=message_wall/form&ajax=true');
        });

        setInterval(function () {
            $('#messages-list').load('?module=message_wall/messages&ajax=true');
        }, 15000);

        $('.smile-replaceable').keyup(function () {
            var words = $('.smile-replaceable').val().split(' ');
            var i;
            var replaced = false;
            for (i = 0; i < words.length; ++i) {
                if (f1tippSmileys[words[i]]) {
                    replaced = true;
                    words[i] = f1tippSmileys[words[i]];
                }
            }
            if (replaced) {
                $('.smile-replaceable').val(words.join(" "));
            }
        });
    });
</script>