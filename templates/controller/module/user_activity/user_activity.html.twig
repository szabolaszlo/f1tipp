<script>
    function refreshOnlineUsers() {
        $.get('?module=user_activity/setUserOnline&ajax=true');
        $.getJSON("?module=user_activity/getOnlineUsers&ajax=true", function (data) {
            $('.user-activity').each(function () {
                $(this).empty();
            });
            $.each(data, function (key, val) {
                $('.user-' + val).append('<span class="glyphicon glyphicon-eye-open" aria-hidden="true" title="Online" style="color: yellow; font-size: 1.1em;"></span>');
            });
        });
    }

    $(document).ready(function () {
        refreshOnlineUsers();
        setInterval(refreshOnlineUsers, {{ interval * 1000 }});
    });
</script>